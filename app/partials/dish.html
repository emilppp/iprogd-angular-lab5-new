<!-- We include the sidebar as it is shared across two screens. -->
<ng-include src="'partials/dinner-sidebar.html'" ng-controller="DinnerCtrl"></ng-include>

<!-- TODO in Lab 5: Display the dish information including image, Description, 
Instructions, Ingredients and total cost. -->
<div id="dishView" class="">
  <div class="col-md-10">
    <div id="loadingIndicator" class="">
      {{status}}
    </div>
   
    <div id="dishDetails">
      <div class="row" id="topViewContainer">
        <div class="col-md-5">
          <!-- DYNAMIC CONTENT HERE -->
          <h2 id="dishName"></h2>
          <img id="dishImage" ng-src="{{ dish.image }}" />
          <p id="dishText">Ready in {{dish.readyInMinutes}} minutes</p>
          <button id="backButton" class="btn btn-primary" onclick="history.back()"><span class="glyphicon glyphicon-chevron-left"></span>Back to search</button>
        </div>
        <div class="col-md-7 grid-border bg-warning">
          <h2>Ingredients for <span id="tableTitle">{{numberOfGuestsz()}}</span> people:</h2>
          <table class="table" id="ingredientsTable">
            <!-- DYNAMIC CONTENT HERE -->
            <tr ng-repeat="ingredient in dish.extendedIngredients">
              <td>{{ingredient.amount * numberOfGuestsz()}} {{ingredient.unit}}</td>
              <td>{{ingredient.name}}</td>
              <td>SEK</td>
              <td>{{ingredient.amount * numberOfGuestsz()}}</td>
            </tr>
          </table>
          <hr>
          <h4><span id="dishCost" ng-if="dish.extendedIngredients != undefined">{{getDishCost(dish) * numberOfGuestsz()}} SEK </span></h4>
          <button class="btn btn-primary" id="confirmDishButton" ng-click="addDishAndReturn()"><span class="glyphicon glyphicon-ok"></span> Confirm dish</button>
          <br>
          <br>
        </div>
      </div>
      <div class="row">
        <div class="col-md-7">
          <h1>Preparation</h1>
          <p id="preparationParagraph">{{ dish.instructions }}
          </p>
        </div>
      </div>
    </div>
  </div>
</div>